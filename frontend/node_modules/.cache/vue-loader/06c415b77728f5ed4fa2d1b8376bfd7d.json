{"remainingRequest":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tbw/work/btProject/reaction-cut/frontend/src/views/TestQRCode.vue?vue&type=style&index=0&id=3a5f147a&scoped=true&lang=css","dependencies":[{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/src/views/TestQRCode.vue","mtime":1761573445009},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/css-loader@3.6.0_webpack@5.102.1/node_modules/css-loader/dist/cjs.js","mtime":1762013131130},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1761026704430},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js","mtime":1762013131924},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js","mtime":1761026713270},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/index.js","mtime":1761026704427}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci50ZXN0LXFyY29kZSB7CiAgcGFkZGluZzogMjBweDsKICBtYXgtd2lkdGg6IDgwMHB4OwogIG1hcmdpbjogMCBhdXRvOwp9CgoudGVzdC1zZWN0aW9uIHsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9CgoudGVzdC1zZWN0aW9uIC5lbC1idXR0b24gewogIG1hcmdpbi1yaWdodDogMTBweDsKfQoKLnFyY29kZS1kaXNwbGF5IHsKICBtYXJnaW4tdG9wOiAyMHB4OwogIHBhZGRpbmc6IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2ViZWVmNTsKICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCi5xcmNvZGUtZGlzcGxheSBoMyB7CiAgbWFyZ2luLXRvcDogMDsKfQoKLnFyY29kZS1kaXNwbGF5IHAgewogIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhOwogIHBhZGRpbmc6IDEwcHg7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgoucXJjb2RlLWNhbnZhcy13cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIG1hcmdpbjogMjBweCAwOwogIG1pbi1oZWlnaHQ6IDMwMHB4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgYm9yZGVyOiAxcHggZGFzaGVkICNkY2RmZTY7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgoudGVzdC1tZXNzYWdlIHsKICBtYXJnaW4tdG9wOiAyMHB4Owp9Cg=="},{"version":3,"sources":["TestQRCode.vue"],"names":[],"mappings":";AAsHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"TestQRCode.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"test-qrcode\">\n    <h2>二维码生成测试</h2>\n    \n    <div class=\"test-section\">\n      <el-button type=\"primary\" @click=\"testQRCodeGeneration\">测试二维码生成</el-button>\n      <el-button @click=\"testWithSampleURL\">使用示例URL测试</el-button>\n    </div>\n    \n    <div v-if=\"qrCodeUrl\" class=\"qrcode-display\">\n      <h3>生成的二维码URL:</h3>\n      <p>{{ qrCodeUrl }}</p>\n      \n      <h3>生成的二维码:</h3>\n      <div ref=\"testQRCodeCanvas\" class=\"qrcode-canvas-wrapper\"></div>\n    </div>\n    \n    <div v-if=\"testMessage\" class=\"test-message\">\n      <el-alert :type=\"testMessageType\" :title=\"testMessage\" show-icon></el-alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport QRCode from 'qrcode'\n\nexport default {\n  name: 'TestQRCode',\n  data() {\n    return {\n      qrCodeUrl: '',\n      testMessage: '',\n      testMessageType: 'info'\n    }\n  },\n  methods: {\n    async testQRCodeGeneration() {\n      try {\n        // 这里应该调用实际的API来生成二维码\n        // 由于我们无法直接测试后端，我们使用一个示例URL\n        this.qrCodeUrl = 'https://passport.bilibili.com/h5-app/passport/login/qr?oauthKey=sample_key_12345'\n        this.testMessage = '模拟二维码生成成功'\n        this.testMessageType = 'success'\n        \n        // 生成二维码\n        this.$nextTick(() => {\n          this.generateTestQRCode()\n        })\n      } catch (error) {\n        console.error('测试二维码生成失败:', error)\n        this.testMessage = '测试二维码生成失败: ' + error.message\n        this.testMessageType = 'error'\n      }\n    },\n    \n    testWithSampleURL() {\n      this.qrCodeUrl = 'https://www.bilibili.com'\n      this.testMessage = '使用示例URL测试'\n      this.testMessageType = 'info'\n      \n      // 生成二维码\n      this.$nextTick(() => {\n        this.generateTestQRCode()\n      })\n    },\n    \n    generateTestQRCode() {\n      if (this.qrCodeUrl && this.$refs.testQRCodeCanvas) {\n        try {\n          console.log('开始生成测试二维码:', { url: this.qrCodeUrl, canvas: this.$refs.testQRCodeCanvas })\n          \n          // 清空容器\n          this.$refs.testQRCodeCanvas.innerHTML = ''\n          \n          // 使用QRCode库生成二维码\n          QRCode.toCanvas(this.$refs.testQRCodeCanvas, this.qrCodeUrl, {\n            width: 300,\n            height: 300,\n            margin: 2,\n            color: {\n              dark: '#000000',\n              light: '#ffffff'\n            }\n          }, (error) => {\n            if (error) {\n              console.error('生成测试二维码失败:', error)\n              this.testMessage = '生成测试二维码失败: ' + error.message\n              this.testMessageType = 'error'\n            } else {\n              console.log('测试二维码生成成功')\n              this.testMessage = '测试二维码生成成功'\n              this.testMessageType = 'success'\n              \n              // 验证二维码是否正确生成\n              const canvas = this.$refs.testQRCodeCanvas.querySelector('canvas')\n              if (canvas) {\n                console.log('测试二维码Canvas元素已创建:', { width: canvas.width, height: canvas.height })\n              } else {\n                console.warn('未找到测试二维码Canvas元素')\n              }\n            }\n          })\n        } catch (error) {\n          console.error('创建测试二维码图片失败:', error)\n          this.testMessage = '创建测试二维码图片失败: ' + error.message\n          this.testMessageType = 'error'\n        }\n      } else {\n        console.warn('缺少生成测试二维码的必要参数:', { qrCodeUrl: this.qrCodeUrl, canvas: this.$refs.testQRCodeCanvas })\n        this.testMessage = '缺少生成测试二维码的必要参数'\n        this.testMessageType = 'warning'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.test-qrcode {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.test-section {\n  margin-bottom: 20px;\n}\n\n.test-section .el-button {\n  margin-right: 10px;\n}\n\n.qrcode-display {\n  margin-top: 20px;\n  padding: 20px;\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n}\n\n.qrcode-display h3 {\n  margin-top: 0;\n}\n\n.qrcode-display p {\n  word-break: break-all;\n  background-color: #f5f7fa;\n  padding: 10px;\n  border-radius: 4px;\n}\n\n.qrcode-canvas-wrapper {\n  display: flex;\n  justify-content: center;\n  margin: 20px 0;\n  min-height: 300px;\n  align-items: center;\n  border: 1px dashed #dcdfe6;\n  border-radius: 4px;\n}\n\n.test-message {\n  margin-top: 20px;\n}\n</style>"]}]}