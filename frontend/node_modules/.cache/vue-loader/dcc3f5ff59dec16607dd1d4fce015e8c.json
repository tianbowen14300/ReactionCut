{"remainingRequest":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tbw/work/btProject/reaction-cut/frontend/src/views/TestQRCode.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/src/views/TestQRCode.vue","mtime":1761573445009},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js","mtime":1761026713270},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.5_webpack@4.47.0/node_modules/babel-loader/lib/index.js","mtime":1761026722096},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js","mtime":1761026713270},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/index.js","mtime":1761026704427}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUZXN0UVJDb2RlJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXJDb2RlVXJsOiAnJywKICAgICAgdGVzdE1lc3NhZ2U6ICcnLAogICAgICB0ZXN0TWVzc2FnZVR5cGU6ICdpbmZvJwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgdGVzdFFSQ29kZUdlbmVyYXRpb24oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g6L+Z6YeM5bqU6K+l6LCD55So5a6e6ZmF55qEQVBJ5p2l55Sf5oiQ5LqM57u056CBCiAgICAgICAgLy8g55Sx5LqO5oiR5Lus5peg5rOV55u05o6l5rWL6K+V5ZCO56uv77yM5oiR5Lus5L2/55So5LiA5Liq56S65L6LVVJMCiAgICAgICAgdGhpcy5xckNvZGVVcmwgPSAnaHR0cHM6Ly9wYXNzcG9ydC5iaWxpYmlsaS5jb20vaDUtYXBwL3Bhc3Nwb3J0L2xvZ2luL3FyP29hdXRoS2V5PXNhbXBsZV9rZXlfMTIzNDUnCiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZSA9ICfmqKHmi5/kuoznu7TnoIHnlJ/miJDmiJDlip8nCiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnc3VjY2VzcycKICAgICAgICAKICAgICAgICAvLyDnlJ/miJDkuoznu7TnoIEKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLmdlbmVyYXRlVGVzdFFSQ29kZSgpCiAgICAgICAgfSkKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfmtYvor5Xkuoznu7TnoIHnlJ/miJDlpLHotKU6JywgZXJyb3IpCiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZSA9ICfmtYvor5Xkuoznu7TnoIHnlJ/miJDlpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlCiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnZXJyb3InCiAgICAgIH0KICAgIH0sCiAgICAKICAgIHRlc3RXaXRoU2FtcGxlVVJMKCkgewogICAgICB0aGlzLnFyQ29kZVVybCA9ICdodHRwczovL3d3dy5iaWxpYmlsaS5jb20nCiAgICAgIHRoaXMudGVzdE1lc3NhZ2UgPSAn5L2/55So56S65L6LVVJM5rWL6K+VJwogICAgICB0aGlzLnRlc3RNZXNzYWdlVHlwZSA9ICdpbmZvJwogICAgICAKICAgICAgLy8g55Sf5oiQ5LqM57u056CBCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmdlbmVyYXRlVGVzdFFSQ29kZSgpCiAgICAgIH0pCiAgICB9LAogICAgCiAgICBnZW5lcmF0ZVRlc3RRUkNvZGUoKSB7CiAgICAgIGlmICh0aGlzLnFyQ29kZVVybCAmJiB0aGlzLiRyZWZzLnRlc3RRUkNvZGVDYW52YXMpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc29sZS5sb2coJ+W8gOWni+eUn+aIkOa1i+ivleS6jOe7tOeggTonLCB7IHVybDogdGhpcy5xckNvZGVVcmwsIGNhbnZhczogdGhpcy4kcmVmcy50ZXN0UVJDb2RlQ2FudmFzIH0pCiAgICAgICAgICAKICAgICAgICAgIC8vIOa4heepuuWuueWZqAogICAgICAgICAgdGhpcy4kcmVmcy50ZXN0UVJDb2RlQ2FudmFzLmlubmVySFRNTCA9ICcnCiAgICAgICAgICAKICAgICAgICAgIC8vIOS9v+eUqFFSQ29kZeW6k+eUn+aIkOS6jOe7tOeggQogICAgICAgICAgUVJDb2RlLnRvQ2FudmFzKHRoaXMuJHJlZnMudGVzdFFSQ29kZUNhbnZhcywgdGhpcy5xckNvZGVVcmwsIHsKICAgICAgICAgICAgd2lkdGg6IDMwMCwKICAgICAgICAgICAgaGVpZ2h0OiAzMDAsCiAgICAgICAgICAgIG1hcmdpbjogMiwKICAgICAgICAgICAgY29sb3I6IHsKICAgICAgICAgICAgICBkYXJrOiAnIzAwMDAwMCcsCiAgICAgICAgICAgICAgbGlnaHQ6ICcjZmZmZmZmJwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAoZXJyb3IpID0+IHsKICAgICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign55Sf5oiQ5rWL6K+V5LqM57u056CB5aSx6LSlOicsIGVycm9yKQogICAgICAgICAgICAgIHRoaXMudGVzdE1lc3NhZ2UgPSAn55Sf5oiQ5rWL6K+V5LqM57u056CB5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZQogICAgICAgICAgICAgIHRoaXMudGVzdE1lc3NhZ2VUeXBlID0gJ2Vycm9yJwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmtYvor5Xkuoznu7TnoIHnlJ/miJDmiJDlip8nKQogICAgICAgICAgICAgIHRoaXMudGVzdE1lc3NhZ2UgPSAn5rWL6K+V5LqM57u056CB55Sf5oiQ5oiQ5YqfJwogICAgICAgICAgICAgIHRoaXMudGVzdE1lc3NhZ2VUeXBlID0gJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgLy8g6aqM6K+B5LqM57u056CB5piv5ZCm5q2j56Gu55Sf5oiQCiAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy4kcmVmcy50ZXN0UVJDb2RlQ2FudmFzLnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpCiAgICAgICAgICAgICAgaWYgKGNhbnZhcykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a1i+ivleS6jOe7tOeggUNhbnZhc+WFg+e0oOW3suWIm+W7ujonLCB7IHdpZHRoOiBjYW52YXMud2lkdGgsIGhlaWdodDogY2FudmFzLmhlaWdodCB9KQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+acquaJvuWIsOa1i+ivleS6jOe7tOeggUNhbnZhc+WFg+e0oCcpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rmtYvor5Xkuoznu7TnoIHlm77niYflpLHotKU6JywgZXJyb3IpCiAgICAgICAgICB0aGlzLnRlc3RNZXNzYWdlID0gJ+WIm+W7uua1i+ivleS6jOe7tOeggeWbvueJh+Wksei0pTogJyArIGVycm9yLm1lc3NhZ2UKICAgICAgICAgIHRoaXMudGVzdE1lc3NhZ2VUeXBlID0gJ2Vycm9yJwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLndhcm4oJ+e8uuWwkeeUn+aIkOa1i+ivleS6jOe7tOeggeeahOW/heimgeWPguaVsDonLCB7IHFyQ29kZVVybDogdGhpcy5xckNvZGVVcmwsIGNhbnZhczogdGhpcy4kcmVmcy50ZXN0UVJDb2RlQ2FudmFzIH0pCiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZSA9ICfnvLrlsJHnlJ/miJDmtYvor5Xkuoznu7TnoIHnmoTlv4XopoHlj4LmlbAnCiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnd2FybmluZycKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["TestQRCode.vue"],"names":[],"mappings":";AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TestQRCode.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"test-qrcode\">\n    <h2>二维码生成测试</h2>\n    \n    <div class=\"test-section\">\n      <el-button type=\"primary\" @click=\"testQRCodeGeneration\">测试二维码生成</el-button>\n      <el-button @click=\"testWithSampleURL\">使用示例URL测试</el-button>\n    </div>\n    \n    <div v-if=\"qrCodeUrl\" class=\"qrcode-display\">\n      <h3>生成的二维码URL:</h3>\n      <p>{{ qrCodeUrl }}</p>\n      \n      <h3>生成的二维码:</h3>\n      <div ref=\"testQRCodeCanvas\" class=\"qrcode-canvas-wrapper\"></div>\n    </div>\n    \n    <div v-if=\"testMessage\" class=\"test-message\">\n      <el-alert :type=\"testMessageType\" :title=\"testMessage\" show-icon></el-alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport QRCode from 'qrcode'\n\nexport default {\n  name: 'TestQRCode',\n  data() {\n    return {\n      qrCodeUrl: '',\n      testMessage: '',\n      testMessageType: 'info'\n    }\n  },\n  methods: {\n    async testQRCodeGeneration() {\n      try {\n        // 这里应该调用实际的API来生成二维码\n        // 由于我们无法直接测试后端，我们使用一个示例URL\n        this.qrCodeUrl = 'https://passport.bilibili.com/h5-app/passport/login/qr?oauthKey=sample_key_12345'\n        this.testMessage = '模拟二维码生成成功'\n        this.testMessageType = 'success'\n        \n        // 生成二维码\n        this.$nextTick(() => {\n          this.generateTestQRCode()\n        })\n      } catch (error) {\n        console.error('测试二维码生成失败:', error)\n        this.testMessage = '测试二维码生成失败: ' + error.message\n        this.testMessageType = 'error'\n      }\n    },\n    \n    testWithSampleURL() {\n      this.qrCodeUrl = 'https://www.bilibili.com'\n      this.testMessage = '使用示例URL测试'\n      this.testMessageType = 'info'\n      \n      // 生成二维码\n      this.$nextTick(() => {\n        this.generateTestQRCode()\n      })\n    },\n    \n    generateTestQRCode() {\n      if (this.qrCodeUrl && this.$refs.testQRCodeCanvas) {\n        try {\n          console.log('开始生成测试二维码:', { url: this.qrCodeUrl, canvas: this.$refs.testQRCodeCanvas })\n          \n          // 清空容器\n          this.$refs.testQRCodeCanvas.innerHTML = ''\n          \n          // 使用QRCode库生成二维码\n          QRCode.toCanvas(this.$refs.testQRCodeCanvas, this.qrCodeUrl, {\n            width: 300,\n            height: 300,\n            margin: 2,\n            color: {\n              dark: '#000000',\n              light: '#ffffff'\n            }\n          }, (error) => {\n            if (error) {\n              console.error('生成测试二维码失败:', error)\n              this.testMessage = '生成测试二维码失败: ' + error.message\n              this.testMessageType = 'error'\n            } else {\n              console.log('测试二维码生成成功')\n              this.testMessage = '测试二维码生成成功'\n              this.testMessageType = 'success'\n              \n              // 验证二维码是否正确生成\n              const canvas = this.$refs.testQRCodeCanvas.querySelector('canvas')\n              if (canvas) {\n                console.log('测试二维码Canvas元素已创建:', { width: canvas.width, height: canvas.height })\n              } else {\n                console.warn('未找到测试二维码Canvas元素')\n              }\n            }\n          })\n        } catch (error) {\n          console.error('创建测试二维码图片失败:', error)\n          this.testMessage = '创建测试二维码图片失败: ' + error.message\n          this.testMessageType = 'error'\n        }\n      } else {\n        console.warn('缺少生成测试二维码的必要参数:', { qrCodeUrl: this.qrCodeUrl, canvas: this.$refs.testQRCodeCanvas })\n        this.testMessage = '缺少生成测试二维码的必要参数'\n        this.testMessageType = 'warning'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.test-qrcode {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.test-section {\n  margin-bottom: 20px;\n}\n\n.test-section .el-button {\n  margin-right: 10px;\n}\n\n.qrcode-display {\n  margin-top: 20px;\n  padding: 20px;\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n}\n\n.qrcode-display h3 {\n  margin-top: 0;\n}\n\n.qrcode-display p {\n  word-break: break-all;\n  background-color: #f5f7fa;\n  padding: 10px;\n  border-radius: 4px;\n}\n\n.qrcode-canvas-wrapper {\n  display: flex;\n  justify-content: center;\n  margin: 20px 0;\n  min-height: 300px;\n  align-items: center;\n  border: 1px dashed #dcdfe6;\n  border-radius: 4px;\n}\n\n.test-message {\n  margin-top: 20px;\n}\n</style>"]}]}