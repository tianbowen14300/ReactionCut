{"remainingRequest":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.5_webpack@4.47.0/node_modules/babel-loader/lib/index.js!/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tbw/work/btProject/reaction-cut/frontend/src/views/TestQRCode.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/src/views/TestQRCode.vue","mtime":1761573445009},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js","mtime":1761026713270},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.5_webpack@4.47.0/node_modules/babel-loader/lib/index.js","mtime":1761026722096},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js","mtime":1761026713270},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.22_cache-loader@4.1.0_webpack@4.47.0__css-load_f9e102e5cbb5fa5aa7d45569a28cebe6/node_modules/vue-loader/lib/index.js","mtime":1761026704427}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFFSQ29kZSBmcm9tICdxcmNvZGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Rlc3RRUkNvZGUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxckNvZGVVcmw6ICcnLAogICAgICB0ZXN0TWVzc2FnZTogJycsCiAgICAgIHRlc3RNZXNzYWdlVHlwZTogJ2luZm8nCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgdGVzdFFSQ29kZUdlbmVyYXRpb24oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g6L+Z6YeM5bqU6K+l6LCD55So5a6e6ZmF55qEQVBJ5p2l55Sf5oiQ5LqM57u056CBCiAgICAgICAgLy8g55Sx5LqO5oiR5Lus5peg5rOV55u05o6l5rWL6K+V5ZCO56uv77yM5oiR5Lus5L2/55So5LiA5Liq56S65L6LVVJMCiAgICAgICAgdGhpcy5xckNvZGVVcmwgPSAnaHR0cHM6Ly9wYXNzcG9ydC5iaWxpYmlsaS5jb20vaDUtYXBwL3Bhc3Nwb3J0L2xvZ2luL3FyP29hdXRoS2V5PXNhbXBsZV9rZXlfMTIzNDUnOwogICAgICAgIHRoaXMudGVzdE1lc3NhZ2UgPSAn5qih5ouf5LqM57u056CB55Sf5oiQ5oiQ5YqfJzsKICAgICAgICB0aGlzLnRlc3RNZXNzYWdlVHlwZSA9ICdzdWNjZXNzJzsKCiAgICAgICAgLy8g55Sf5oiQ5LqM57u056CBCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy5nZW5lcmF0ZVRlc3RRUkNvZGUoKTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfmtYvor5Xkuoznu7TnoIHnlJ/miJDlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMudGVzdE1lc3NhZ2UgPSAn5rWL6K+V5LqM57u056CB55Sf5oiQ5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZTsKICAgICAgICB0aGlzLnRlc3RNZXNzYWdlVHlwZSA9ICdlcnJvcic7CiAgICAgIH0KICAgIH0sCiAgICB0ZXN0V2l0aFNhbXBsZVVSTCgpIHsKICAgICAgdGhpcy5xckNvZGVVcmwgPSAnaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tJzsKICAgICAgdGhpcy50ZXN0TWVzc2FnZSA9ICfkvb/nlKjnpLrkvotVUkzmtYvor5UnOwogICAgICB0aGlzLnRlc3RNZXNzYWdlVHlwZSA9ICdpbmZvJzsKCiAgICAgIC8vIOeUn+aIkOS6jOe7tOeggQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5nZW5lcmF0ZVRlc3RRUkNvZGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVUZXN0UVJDb2RlKCkgewogICAgICBpZiAodGhpcy5xckNvZGVVcmwgJiYgdGhpcy4kcmVmcy50ZXN0UVJDb2RlQ2FudmFzKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vnlJ/miJDmtYvor5Xkuoznu7TnoIE6JywgewogICAgICAgICAgICB1cmw6IHRoaXMucXJDb2RlVXJsLAogICAgICAgICAgICBjYW52YXM6IHRoaXMuJHJlZnMudGVzdFFSQ29kZUNhbnZhcwogICAgICAgICAgfSk7CgogICAgICAgICAgLy8g5riF56m65a655ZmoCiAgICAgICAgICB0aGlzLiRyZWZzLnRlc3RRUkNvZGVDYW52YXMuaW5uZXJIVE1MID0gJyc7CgogICAgICAgICAgLy8g5L2/55SoUVJDb2Rl5bqT55Sf5oiQ5LqM57u056CBCiAgICAgICAgICBRUkNvZGUudG9DYW52YXModGhpcy4kcmVmcy50ZXN0UVJDb2RlQ2FudmFzLCB0aGlzLnFyQ29kZVVybCwgewogICAgICAgICAgICB3aWR0aDogMzAwLAogICAgICAgICAgICBoZWlnaHQ6IDMwMCwKICAgICAgICAgICAgbWFyZ2luOiAyLAogICAgICAgICAgICBjb2xvcjogewogICAgICAgICAgICAgIGRhcms6ICcjMDAwMDAwJywKICAgICAgICAgICAgICBsaWdodDogJyNmZmZmZmYnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign55Sf5oiQ5rWL6K+V5LqM57u056CB5aSx6LSlOicsIGVycm9yKTsKICAgICAgICAgICAgICB0aGlzLnRlc3RNZXNzYWdlID0gJ+eUn+aIkOa1i+ivleS6jOe7tOeggeWksei0pTogJyArIGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnZXJyb3InOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmtYvor5Xkuoznu7TnoIHnlJ/miJDmiJDlip8nKTsKICAgICAgICAgICAgICB0aGlzLnRlc3RNZXNzYWdlID0gJ+a1i+ivleS6jOe7tOeggeeUn+aIkOaIkOWKnyc7CiAgICAgICAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnc3VjY2Vzcyc7CgogICAgICAgICAgICAgIC8vIOmqjOivgeS6jOe7tOeggeaYr+WQpuato+ehrueUn+aIkAogICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuJHJlZnMudGVzdFFSQ29kZUNhbnZhcy5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTsKICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5rWL6K+V5LqM57u056CBQ2FudmFz5YWD57Sg5bey5Yib5bu6OicsIHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCwKICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfmnKrmib7liLDmtYvor5Xkuoznu7TnoIFDYW52YXPlhYPntKAnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rmtYvor5Xkuoznu7TnoIHlm77niYflpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgdGhpcy50ZXN0TWVzc2FnZSA9ICfliJvlu7rmtYvor5Xkuoznu7TnoIHlm77niYflpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlOwogICAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnZXJyb3InOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLndhcm4oJ+e8uuWwkeeUn+aIkOa1i+ivleS6jOe7tOeggeeahOW/heimgeWPguaVsDonLCB7CiAgICAgICAgICBxckNvZGVVcmw6IHRoaXMucXJDb2RlVXJsLAogICAgICAgICAgY2FudmFzOiB0aGlzLiRyZWZzLnRlc3RRUkNvZGVDYW52YXMKICAgICAgICB9KTsKICAgICAgICB0aGlzLnRlc3RNZXNzYWdlID0gJ+e8uuWwkeeUn+aIkOa1i+ivleS6jOe7tOeggeeahOW/heimgeWPguaVsCc7CiAgICAgICAgdGhpcy50ZXN0TWVzc2FnZVR5cGUgPSAnd2FybmluZyc7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["QRCode","name","data","qrCodeUrl","testMessage","testMessageType","methods","testQRCodeGeneration","$nextTick","generateTestQRCode","error","console","message","testWithSampleURL","$refs","testQRCodeCanvas","log","url","canvas","innerHTML","toCanvas","width","height","margin","color","dark","light","querySelector","warn"],"sources":["src/views/TestQRCode.vue"],"sourcesContent":["<template>\n  <div class=\"test-qrcode\">\n    <h2>二维码生成测试</h2>\n    \n    <div class=\"test-section\">\n      <el-button type=\"primary\" @click=\"testQRCodeGeneration\">测试二维码生成</el-button>\n      <el-button @click=\"testWithSampleURL\">使用示例URL测试</el-button>\n    </div>\n    \n    <div v-if=\"qrCodeUrl\" class=\"qrcode-display\">\n      <h3>生成的二维码URL:</h3>\n      <p>{{ qrCodeUrl }}</p>\n      \n      <h3>生成的二维码:</h3>\n      <div ref=\"testQRCodeCanvas\" class=\"qrcode-canvas-wrapper\"></div>\n    </div>\n    \n    <div v-if=\"testMessage\" class=\"test-message\">\n      <el-alert :type=\"testMessageType\" :title=\"testMessage\" show-icon></el-alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport QRCode from 'qrcode'\n\nexport default {\n  name: 'TestQRCode',\n  data() {\n    return {\n      qrCodeUrl: '',\n      testMessage: '',\n      testMessageType: 'info'\n    }\n  },\n  methods: {\n    async testQRCodeGeneration() {\n      try {\n        // 这里应该调用实际的API来生成二维码\n        // 由于我们无法直接测试后端，我们使用一个示例URL\n        this.qrCodeUrl = 'https://passport.bilibili.com/h5-app/passport/login/qr?oauthKey=sample_key_12345'\n        this.testMessage = '模拟二维码生成成功'\n        this.testMessageType = 'success'\n        \n        // 生成二维码\n        this.$nextTick(() => {\n          this.generateTestQRCode()\n        })\n      } catch (error) {\n        console.error('测试二维码生成失败:', error)\n        this.testMessage = '测试二维码生成失败: ' + error.message\n        this.testMessageType = 'error'\n      }\n    },\n    \n    testWithSampleURL() {\n      this.qrCodeUrl = 'https://www.bilibili.com'\n      this.testMessage = '使用示例URL测试'\n      this.testMessageType = 'info'\n      \n      // 生成二维码\n      this.$nextTick(() => {\n        this.generateTestQRCode()\n      })\n    },\n    \n    generateTestQRCode() {\n      if (this.qrCodeUrl && this.$refs.testQRCodeCanvas) {\n        try {\n          console.log('开始生成测试二维码:', { url: this.qrCodeUrl, canvas: this.$refs.testQRCodeCanvas })\n          \n          // 清空容器\n          this.$refs.testQRCodeCanvas.innerHTML = ''\n          \n          // 使用QRCode库生成二维码\n          QRCode.toCanvas(this.$refs.testQRCodeCanvas, this.qrCodeUrl, {\n            width: 300,\n            height: 300,\n            margin: 2,\n            color: {\n              dark: '#000000',\n              light: '#ffffff'\n            }\n          }, (error) => {\n            if (error) {\n              console.error('生成测试二维码失败:', error)\n              this.testMessage = '生成测试二维码失败: ' + error.message\n              this.testMessageType = 'error'\n            } else {\n              console.log('测试二维码生成成功')\n              this.testMessage = '测试二维码生成成功'\n              this.testMessageType = 'success'\n              \n              // 验证二维码是否正确生成\n              const canvas = this.$refs.testQRCodeCanvas.querySelector('canvas')\n              if (canvas) {\n                console.log('测试二维码Canvas元素已创建:', { width: canvas.width, height: canvas.height })\n              } else {\n                console.warn('未找到测试二维码Canvas元素')\n              }\n            }\n          })\n        } catch (error) {\n          console.error('创建测试二维码图片失败:', error)\n          this.testMessage = '创建测试二维码图片失败: ' + error.message\n          this.testMessageType = 'error'\n        }\n      } else {\n        console.warn('缺少生成测试二维码的必要参数:', { qrCodeUrl: this.qrCodeUrl, canvas: this.$refs.testQRCodeCanvas })\n        this.testMessage = '缺少生成测试二维码的必要参数'\n        this.testMessageType = 'warning'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.test-qrcode {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.test-section {\n  margin-bottom: 20px;\n}\n\n.test-section .el-button {\n  margin-right: 10px;\n}\n\n.qrcode-display {\n  margin-top: 20px;\n  padding: 20px;\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n}\n\n.qrcode-display h3 {\n  margin-top: 0;\n}\n\n.qrcode-display p {\n  word-break: break-all;\n  background-color: #f5f7fa;\n  padding: 10px;\n  border-radius: 4px;\n}\n\n.qrcode-canvas-wrapper {\n  display: flex;\n  justify-content: center;\n  margin: 20px 0;\n  min-height: 300px;\n  align-items: center;\n  border: 1px dashed #dcdfe6;\n  border-radius: 4px;\n}\n\n.test-message {\n  margin-top: 20px;\n}\n</style>"],"mappings":"AAwBA,OAAAA,MAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,WAAA;MACAC,eAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,qBAAA;MACA;QACA;QACA;QACA,KAAAJ,SAAA;QACA,KAAAC,WAAA;QACA,KAAAC,eAAA;;QAEA;QACA,KAAAG,SAAA;UACA,KAAAC,kBAAA;QACA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,eAAAA,KAAA;QACA,KAAAN,WAAA,mBAAAM,KAAA,CAAAE,OAAA;QACA,KAAAP,eAAA;MACA;IACA;IAEAQ,kBAAA;MACA,KAAAV,SAAA;MACA,KAAAC,WAAA;MACA,KAAAC,eAAA;;MAEA;MACA,KAAAG,SAAA;QACA,KAAAC,kBAAA;MACA;IACA;IAEAA,mBAAA;MACA,SAAAN,SAAA,SAAAW,KAAA,CAAAC,gBAAA;QACA;UACAJ,OAAA,CAAAK,GAAA;YAAAC,GAAA,OAAAd,SAAA;YAAAe,MAAA,OAAAJ,KAAA,CAAAC;UAAA;;UAEA;UACA,KAAAD,KAAA,CAAAC,gBAAA,CAAAI,SAAA;;UAEA;UACAnB,MAAA,CAAAoB,QAAA,MAAAN,KAAA,CAAAC,gBAAA,OAAAZ,SAAA;YACAkB,KAAA;YACAC,MAAA;YACAC,MAAA;YACAC,KAAA;cACAC,IAAA;cACAC,KAAA;YACA;UACA,GAAAhB,KAAA;YACA,IAAAA,KAAA;cACAC,OAAA,CAAAD,KAAA,eAAAA,KAAA;cACA,KAAAN,WAAA,mBAAAM,KAAA,CAAAE,OAAA;cACA,KAAAP,eAAA;YACA;cACAM,OAAA,CAAAK,GAAA;cACA,KAAAZ,WAAA;cACA,KAAAC,eAAA;;cAEA;cACA,MAAAa,MAAA,QAAAJ,KAAA,CAAAC,gBAAA,CAAAY,aAAA;cACA,IAAAT,MAAA;gBACAP,OAAA,CAAAK,GAAA;kBAAAK,KAAA,EAAAH,MAAA,CAAAG,KAAA;kBAAAC,MAAA,EAAAJ,MAAA,CAAAI;gBAAA;cACA;gBACAX,OAAA,CAAAiB,IAAA;cACA;YACA;UACA;QACA,SAAAlB,KAAA;UACAC,OAAA,CAAAD,KAAA,iBAAAA,KAAA;UACA,KAAAN,WAAA,qBAAAM,KAAA,CAAAE,OAAA;UACA,KAAAP,eAAA;QACA;MACA;QACAM,OAAA,CAAAiB,IAAA;UAAAzB,SAAA,OAAAA,SAAA;UAAAe,MAAA,OAAAJ,KAAA,CAAAC;QAAA;QACA,KAAAX,WAAA;QACA,KAAAC,eAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}