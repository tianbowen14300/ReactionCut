{"remainingRequest":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.5_webpack@4.47.0/node_modules/babel-loader/lib/index.js!/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/eslint-loader@2.2.1_eslint@6.8.0_webpack@4.47.0/node_modules/eslint-loader/index.js??ref--14-0!/Users/tbw/work/btProject/reaction-cut/frontend/src/utils/qrcodeDebug.js","dependencies":[{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/src/utils/qrcodeDebug.js","mtime":1761575496824},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js","mtime":1761026713270},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.28.5_webpack@4.47.0/node_modules/babel-loader/lib/index.js","mtime":1761026722096},{"path":"/Users/tbw/work/btProject/reaction-cut/frontend/node_modules/.pnpm/eslint-loader@2.2.1_eslint@6.8.0_webpack@4.47.0/node_modules/eslint-loader/index.js","mtime":1762013127970}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIOS6jOe7tOeggeiwg+ivleW3peWFtwogKi8KCmltcG9ydCBxcmNvZGUgZnJvbSAncXJjb2RlLWdlbmVyYXRvcic7CgovKioKICog6LCD6K+V5LqM57u056CB55Sf5oiQCiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSDkuoznu7TnoIHlhoXlrrlVUkwKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIC0g5a655Zmo5YWD57SgCiAqIEByZXR1cm5zIHtQcm9taXNlfSDnlJ/miJDnu5PmnpxQcm9taXNlCiAqLwpleHBvcnQgZnVuY3Rpb24gZGVidWdHZW5lcmF0ZVFSQ29kZSh1cmwsIGNvbnRhaW5lcikgewogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICBjb25zb2xlLmxvZygn6LCD6K+V5LqM57u056CB55Sf5oiQOicsIHsKICAgICAgdXJsLAogICAgICBjb250YWluZXIKICAgIH0pOwoKICAgIC8vIOWPguaVsOmqjOivgQogICAgaWYgKCF1cmwpIHsKICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1VSTOWPguaVsOS4jeiDveS4uuepuicpOwogICAgICBjb25zb2xlLmVycm9yKCfosIPor5Xkuoznu7TnoIHnlJ/miJDlpLHotKU6IFVSTOWPguaVsOS4uuepuicpOwogICAgICByZWplY3QoZXJyb3IpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoIWNvbnRhaW5lcikgewogICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcign5a655Zmo5Y+C5pWw5LiN6IO95Li656m6Jyk7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ+iwg+ivleS6jOe7tOeggeeUn+aIkOWksei0pTog5a655Zmo5Y+C5pWw5Li656m6Jyk7CiAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHRyeSB7CiAgICAgIC8vIOa4heepuuWuueWZqAogICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7CgogICAgICAvLyDkvb/nlKhxcmNvZGUtZ2VuZXJhdG9y55Sf5oiQ5LqM57u056CBCiAgICAgIGNvbnN0IHFyID0gcXJjb2RlKDAsICdNJyk7CiAgICAgIHFyLmFkZERhdGEodXJsKTsKICAgICAgcXIubWFrZSgpOwoKICAgICAgLy8g5Yib5bu6Y2FudmFz5YWD57SgCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjYW52YXMud2lkdGggPSAzMDA7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSAzMDA7CiAgICAgIGNhbnZhcy5zdHlsZS5tYXhXaWR0aCA9ICcxMDAlJzsKICAgICAgY2FudmFzLnN0eWxlLm1heEhlaWdodCA9ICcxMDAlJzsKCiAgICAgIC8vIOiOt+WPlmNhbnZhc+S4iuS4i+aWh+W5tue7mOWItuS6jOe7tOeggQogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY29uc3QgY2VsbFNpemUgPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIHFyLmdldE1vZHVsZUNvdW50KCkpOwoKICAgICAgLy8g57uY5Yi26IOM5pmvCiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7CiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwoKICAgICAgLy8g57uY5Yi25LqM57u056CB5qih5Z2XCiAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHFyLmdldE1vZHVsZUNvdW50KCk7IHJvdysrKSB7CiAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgcXIuZ2V0TW9kdWxlQ291bnQoKTsgY29sKyspIHsKICAgICAgICAgIGlmIChxci5pc0Rhcmsocm93LCBjb2wpKSB7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7CiAgICAgICAgICAgIGN0eC5maWxsUmVjdChjb2wgKiBjZWxsU2l6ZSwgcm93ICogY2VsbFNpemUsIGNlbGxTaXplLCBjZWxsU2l6ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyDlsIZjYW52YXPmt7vliqDliLDlrrnlmajkuK0KICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhcyk7CiAgICAgIGNvbnNvbGUubG9nKCfosIPor5Xkuoznu7TnoIHnlJ/miJDmiJDlip8nKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcign5Yib5bu66LCD6K+V5LqM57u056CB5Zu+54mH5aSx6LSlOicsIGVycm9yKTsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0KICB9KTsKfQoKLyoqCiAqIOa1i+ivlUJpbGliaWxp5LqM57u056CB55Sf5oiQCiAqIEByZXR1cm5zIHtQcm9taXNlfSDmtYvor5Xnu5PmnpxQcm9taXNlCiAqLwpleHBvcnQgYXN5bmMgZnVuY3Rpb24gdGVzdEJpbGliaWxpUVJDb2RlR2VuZXJhdGlvbigpIHsKICB0cnkgewogICAgY29uc29sZS5sb2coJ+W8gOWni+a1i+ivlUJpbGliaWxp5LqM57u056CB55Sf5oiQLi4uJyk7CgogICAgLy8g5qih5oufQVBJ6LCD55SoCiAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7CiAgICAgIGNvZGU6IDAsCiAgICAgIG1lc3NhZ2U6ICJzdWNjZXNzIiwKICAgICAgZGF0YTogewogICAgICAgIHVybDogImh0dHBzOi8vcGFzc3BvcnQuYmlsaWJpbGkuY29tL2g1LWFwcC9wYXNzcG9ydC9sb2dpbi9xcj9vYXV0aEtleT10ZXN0X2tleV8xMjM0NTYiLAogICAgICAgIHFyY29kZV9rZXk6ICJ0ZXN0X2tleV8xMjM0NTYiCiAgICAgIH0KICAgIH07CiAgICBjb25zb2xlLmxvZygn5qih5oufQVBJ5ZON5bqUOicsIG1vY2tSZXNwb25zZSk7CiAgICBpZiAobW9ja1Jlc3BvbnNlLmNvZGUgPT09IDApIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdWNjZXNzOiB0cnVlLAogICAgICAgIGRhdGE6IG1vY2tSZXNwb25zZS5kYXRhLAogICAgICAgIG1lc3NhZ2U6ICLmtYvor5XmiJDlip8iCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gewogICAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICAgIG1lc3NhZ2U6IG1vY2tSZXNwb25zZS5tZXNzYWdlIHx8ICLmtYvor5XlpLHotKUiCiAgICAgIH07CiAgICB9CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ+a1i+ivlUJpbGliaWxp5LqM57u056CB55Sf5oiQ5aSx6LSlOicsIGVycm9yKTsKICAgIHJldHVybiB7CiAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICBtZXNzYWdlOiAi5rWL6K+V5aSx6LSlOiAiICsgZXJyb3IubWVzc2FnZQogICAgfTsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgewogIGRlYnVnR2VuZXJhdGVRUkNvZGUsCiAgdGVzdEJpbGliaWxpUVJDb2RlR2VuZXJhdGlvbgp9Ow=="},{"version":3,"names":["qrcode","debugGenerateQRCode","url","container","Promise","resolve","reject","console","log","error","Error","innerHTML","qr","addData","make","canvas","document","createElement","width","height","style","maxWidth","maxHeight","ctx","getContext","cellSize","Math","floor","getModuleCount","fillStyle","fillRect","row","col","isDark","appendChild","testBilibiliQRCodeGeneration","mockResponse","code","message","data","qrcode_key","success"],"sources":["/Users/tbw/work/btProject/reaction-cut/frontend/src/utils/qrcodeDebug.js"],"sourcesContent":["/**\n * 二维码调试工具\n */\n\nimport qrcode from 'qrcode-generator'\n\n/**\n * 调试二维码生成\n * @param {string} url - 二维码内容URL\n * @param {HTMLElement} container - 容器元素\n * @returns {Promise} 生成结果Promise\n */\nexport function debugGenerateQRCode(url, container) {\n  return new Promise((resolve, reject) => {\n    console.log('调试二维码生成:', { url, container })\n    \n    // 参数验证\n    if (!url) {\n      const error = new Error('URL参数不能为空')\n      console.error('调试二维码生成失败: URL参数为空')\n      reject(error)\n      return\n    }\n    \n    if (!container) {\n      const error = new Error('容器参数不能为空')\n      console.error('调试二维码生成失败: 容器参数为空')\n      reject(error)\n      return\n    }\n    \n    try {\n      // 清空容器\n      container.innerHTML = ''\n      \n      // 使用qrcode-generator生成二维码\n      const qr = qrcode(0, 'M')\n      qr.addData(url)\n      qr.make()\n      \n      // 创建canvas元素\n      const canvas = document.createElement('canvas')\n      canvas.width = 300\n      canvas.height = 300\n      canvas.style.maxWidth = '100%'\n      canvas.style.maxHeight = '100%'\n      \n      // 获取canvas上下文并绘制二维码\n      const ctx = canvas.getContext('2d')\n      const cellSize = Math.floor(canvas.width / qr.getModuleCount())\n      \n      // 绘制背景\n      ctx.fillStyle = '#ffffff'\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\n      \n      // 绘制二维码模块\n      for (let row = 0; row < qr.getModuleCount(); row++) {\n        for (let col = 0; col < qr.getModuleCount(); col++) {\n          if (qr.isDark(row, col)) {\n            ctx.fillStyle = '#000000'\n            ctx.fillRect(col * cellSize, row * cellSize, cellSize, cellSize)\n          }\n        }\n      }\n      \n      // 将canvas添加到容器中\n      container.appendChild(canvas)\n      \n      console.log('调试二维码生成成功')\n      resolve()\n    } catch (error) {\n      console.error('创建调试二维码图片失败:', error)\n      reject(error)\n    }\n  })\n}\n\n/**\n * 测试Bilibili二维码生成\n * @returns {Promise} 测试结果Promise\n */\nexport async function testBilibiliQRCodeGeneration() {\n  try {\n    console.log('开始测试Bilibili二维码生成...')\n    \n    // 模拟API调用\n    const mockResponse = {\n      code: 0,\n      message: \"success\",\n      data: {\n        url: \"https://passport.bilibili.com/h5-app/passport/login/qr?oauthKey=test_key_123456\",\n        qrcode_key: \"test_key_123456\"\n      }\n    }\n    \n    console.log('模拟API响应:', mockResponse)\n    \n    if (mockResponse.code === 0) {\n      return {\n        success: true,\n        data: mockResponse.data,\n        message: \"测试成功\"\n      }\n    } else {\n      return {\n        success: false,\n        message: mockResponse.message || \"测试失败\"\n      }\n    }\n  } catch (error) {\n    console.error('测试Bilibili二维码生成失败:', error)\n    return {\n      success: false,\n      message: \"测试失败: \" + error.message\n    }\n  }\n}\n\nexport default {\n  debugGenerateQRCode,\n  testBilibiliQRCodeGeneration\n}"],"mappings":"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","ignoreList":[]}]}